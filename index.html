<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Le0Flix</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(to bottom,#5b189a,#000);
  color:white;
}

/* HEADER */
header{
  text-align:center;
  padding:25px;
}
header img{
  width:220px;
}

/* GRID */
#movies-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  padding:15px;
}
.movie-card{
  border-radius:15px;
  overflow:hidden;
  position:relative;
  cursor:pointer;
}
.movie-card img{
  width:100%;
  display:block;
}
.movie-overlay{
  position:absolute;
  bottom:0;
  width:100%;
  background:rgba(0,0,0,.6);
  padding:10px;
}

/* PAGE FILM */
#movie-page,#player-page{
  position:fixed;
  inset:0;
  background:black;
  display:none;
  flex-direction:column;
  z-index:1000;
}
.top-bar{
  height:50px;
  display:flex;
  align-items:center;
  padding:10px;
}
.back-btn{
  font-size:24px;
  background:none;
  border:none;
  color:white;
}
#movie-content{
  text-align:center;
  padding:20px;
}
#movie-content img{
  width:220px;
  border-radius:15px;
}
#play-btn{
  margin-top:20px;
  padding:15px 30px;
  font-size:18px;
  background:#8a2be2;
  border:none;
  border-radius:30px;
  color:white;
}

/* PLAYER */
#player-video{
  width:100%;
  height:calc(100vh - 50px);
}
</style>
</head>

<body>

<header>
  <img src="https://i.ibb.co/DgKW2C56/Black-White-Bold-Modern-Studio-Logo-20260101-135423-0000-removebg-preview.png">
</header>

<div id="movies-grid"></div>

<!-- MENU FILM -->
<div id="movie-page">
  <div class="top-bar">
    <button class="back-btn" id="back-to-grid">←</button>
  </div>
  <div id="movie-content">
    <img id="movie-img">
    <h2 id="movie-title"></h2>
    <p id="movie-duration"></p>
    <button id="play-btn">▶ Lecture</button>
  </div>
</div>

<!-- PLAYER -->
<div id="player-page">
  <div class="top-bar">
    <button class="back-btn" id="back-to-movie">←</button>
  </div>
  <video id="player-video" controls></video>
</div>

<script>
let movies=[];
let currentMovie=null;

fetch("movies.json")
.then(r=>r.json())
.then(data=>{
  movies=data;
  render();
});

function render(){
  const grid=document.getElementById("movies-grid");
  grid.innerHTML="";
  movies.forEach(movie=>{
    const card=document.createElement("div");
    card.className="movie-card";
    card.innerHTML=`
      <img src="${movie.image}">
      <div class="movie-overlay">
        <strong>${movie.titre}</strong><br>${movie.duree}
      </div>
    `;
    card.onclick=()=>openMovie(movie);
    grid.appendChild(card);
  });
}

function openMovie(movie){
  currentMovie=movie;
  document.getElementById("movies-grid").style.display="none";
  document.getElementById("movie-page").style.display="flex";
  document.getElementById("movie-img").src=movie.image;
  document.getElementById("movie-title").textContent=movie.titre;
  document.getElementById("movie-duration").textContent=movie.duree;
}

document.getElementById("play-btn").onclick=()=>{
  document.getElementById("movie-page").style.display="none";
  document.getElementById("player-page").style.display="flex";
  const v=document.getElementById("player-video");
  v.src=currentMovie.lien;
  v.play();
};

document.getElementById("back-to-grid").onclick=()=>{
  document.getElementById("movie-page").style.display="none";
  document.getElementById("movies-grid").style.display="grid";
};

document.getElementById("back-to-movie").onclick=()=>{
  const v=document.getElementById("player-video");
  v.pause();
  document.getElementById("player-page").style.display="none";
  document.getElementById("movie-page").style.display="flex";
};
</script>

</body>
</html>
